AI-Telemedicine-CDSS/
â”œâ”€â”€ ğŸ“ backend/                     # Node.js/Express Backend (Port 5000)
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ appointmentController.js  # Booking & Queue management
â”‚   â”‚   â”œâ”€â”€ authController.js         # JWT authentication
â”‚   â”‚   â”œâ”€â”€ chatController.js         # Real-time chat
â”‚   â”‚   â””â”€â”€ triageController.js       # Triage session management
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ authMiddleware.js         # JWT verification
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ Appointment.js            # Appointment schema
â”‚   â”‚   â”œâ”€â”€ Chat.js                   # Chat message schema
â”‚   â”‚   â”œâ”€â”€ ReportAnalysis.js         # Report analysis schema
â”‚   â”‚   â”œâ”€â”€ TriageSession.js          # Triage session schema
â”‚   â”‚   â””â”€â”€ User.js                   # User schema
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ appointmentRoutes.js      # /api/doctors, /api/appointments/*
â”‚   â”‚   â”œâ”€â”€ authRoutes.js             # /api/auth/*
â”‚   â”‚   â”œâ”€â”€ chatRoutes.js             # /api/chat/*
â”‚   â”‚   â”œâ”€â”€ recordRoutes.js           # /api/records/*
â”‚   â”‚   â”œâ”€â”€ reportRoutes.js           # /api/reports/*
â”‚   â”‚   â””â”€â”€ triageRoutes.js           # /api/triage/*
â”‚   â”œâ”€â”€ index.js                      # Main server entry (âœ… Running)
â”‚   â”œâ”€â”€ package.json                  # Dependencies (socket.io, uuid added)
â”‚   â””â”€â”€ .env                          # MongoDB URI, JWT secrets

â”œâ”€â”€ ğŸ“ ai_service/                  # FastAPI Python Service (Port 8000)
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ config.py                 # Configuration settings
â”‚   â”œâ”€â”€ engine/
â”‚   â”‚   â”œâ”€â”€ symptom_engine.py         # Symptom elimination logic
â”‚   â”‚   â””â”€â”€ explainability.py        # LIME-based explanations
â”‚   â”œâ”€â”€ knowledge/
â”‚   â”‚   â”œâ”€â”€ disease_symptom_trained.csv        # 49 diseases Ã— 473 symptoms
â”‚   â”‚   â””â”€â”€ symptom_questions_trained.json     # Question templates
â”‚   â”œâ”€â”€ model_adapters/              # Optional ML integrations
â”‚   â”‚   â”œâ”€â”€ __init__.py               # (Optional imports)
â”‚   â”‚   â”œâ”€â”€ ocr_engine.py             # Report OCR
â”‚   â”‚   â”œâ”€â”€ report_parser.py          # Report parsing
â”‚   â”‚   â””â”€â”€ model_selector.py         # Model selection
â”‚   â”œâ”€â”€ app.py                        # FastAPI app (âœ… Running)
â”‚   â”œâ”€â”€ requirements.txt              # Python dependencies
â”‚   â””â”€â”€ .env                          # API keys

â”œâ”€â”€ ğŸ“ frontend/                    # React SPA (Port 3000)
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Booking/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Booking.jsx       # âœ… Fixed: appointmentsAPI imports
â”‚   â”‚   â”‚   â”œâ”€â”€ Chat/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RealTimeChat.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ DoctorDashboard/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DoctorDashboard.jsx  # âœ… Fixed: appointmentsAPI imports
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Navbar.js         # Top navigation
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Sidebar.js        # âœ… Updated: Appointments menu
â”‚   â”‚   â”‚   â”œâ”€â”€ ReportAnalyzer/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ReportAnalyzer.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SymptomChecker/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SymptomChecker.jsx
â”‚   â”‚   â”‚   â””â”€â”€ VideoConsultation/
â”‚   â”‚   â”‚       â””â”€â”€ VideoConsultation.jsx
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Booking.js            # âœ¨ NEW: Appointment booking UI
â”‚   â”‚   â”‚   â”œâ”€â”€ Booking.css           # âœ¨ NEW: Booking page styles
â”‚   â”‚   â”‚   â”œâ”€â”€ DoctorQueue.js        # âœ¨ NEW: Queue management UI
â”‚   â”‚   â”‚   â”œâ”€â”€ DoctorQueue.css       # âœ¨ NEW: Queue page styles
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.js          # Main dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.js               # âœ… Updated: Booking feature card
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.js              # Login page
â”‚   â”‚   â”‚   â”œâ”€â”€ Register.js           # Registration page
â”‚   â”‚   â”‚   â”œâ”€â”€ ReportAnalyzer.js     # Report upload page
â”‚   â”‚   â”‚   â””â”€â”€ SymptomChecker.js     # Symptom checker page
â”‚   â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthContext.js        # Authentication context
â”‚   â”‚   â”‚   â””â”€â”€ ToastContext.js       # Toast notifications
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ api.js                # âœ… Updated: appointmentsAPI added
â”‚   â”‚   â”œâ”€â”€ App.js                    # âœ… Updated: /booking & /doctor-queue routes
â”‚   â”‚   â””â”€â”€ index.js                  # React entry point
â”‚   â”œâ”€â”€ package.json                  # Dependencies
â”‚   â””â”€â”€ .env                          # API endpoints

â”œâ”€â”€ ğŸ“ evaluation/                  # Test & evaluation scripts
â”‚   â”œâ”€â”€ test_dynamic_logic.py
â”‚   â””â”€â”€ test_integration.py

â”œâ”€â”€ ğŸ“ docs/                        # Documentation
â”‚   â””â”€â”€ project_structure.txt         # âœ¨ Created by tree command

â”œâ”€â”€ ğŸ“„ README.md                    # Project documentation
â”œâ”€â”€ ğŸ“„ .gitignore
â””â”€â”€ ğŸ“„ .env.example                 # Environment template



give me the best UI design for the above project structure using figma or lovable or any other best ai

---

# ğŸ”¹ LAYER 1 â€” UI WORKFLOW CORRECTION PROMPTS

*(Purpose: Identify and fix UI-level workflow loopholes only)*

---

## ğŸ§  PROMPT 1 â€” FIX AI FEATURE FRAGMENTATION

```
Analyze the current UI workflow and identify places where AI features
(Symptom Checker, AI Health Chat, Medical Report Analyzer)
exist as independent, parallel menu items.

Fix the workflow so that:
- AI Health Chat is NOT a standalone starting feature
- AI Chat becomes context-aware and is accessible ONLY after:
  - a symptom checker result OR
  - a report analysis OR
  - a completed consultation
- The UI visually shows that AI Chat is continuing an existing medical context,
  not starting a new one.

Do NOT redesign visuals yet.
Only update the workflow logic and feature entry points.
```

---

## ğŸ§  PROMPT 2 â€” FIX SYMPTOM CHECKER UI LOGIC (FORM â†’ INTERVIEW)

```
Review the Symptom Checker UI flow.

Identify and fix issues where the flow feels like a static form
instead of an intelligent AI-driven interview.

Update the workflow so that:
- Questions appear one at a time
- Each question visually indicates "Why this question is asked"
- The number of questions adapts (minimum 3, maximum 5, extend to 7 if needed)
- The UI shows progression and uncertainty reduction
- The user understands that questions are dynamically selected by AI

Do NOT add backend logic.
Only correct frontend interaction logic and user guidance.
```

---

## ğŸ§  PROMPT 3 â€” FIX SEVERITY HANDLING IN UI

```
Audit how severity (Low / Medium / High / Critical) is currently displayed.

Fix the UI workflow so that:
- Severity is not just a badge but a flow controller
- High severity limits user choices and prominently suggests booking
- Critical severity disables AI chat and forces emergency actions
- UI actions (buttons, navigation) change availability based on severity

Do NOT implement emergency features yet.
Only correct the UI decision logic tied to severity states.
```

---

## ğŸ§  PROMPT 4 â€” FIX AI â†’ DOCTOR HANDOFF VISUAL HIERARCHY

```
Review the Doctor Dashboard UI.

Identify places where AI insights and Doctor actions appear equal.

Fix the workflow so that:
- AI outputs are clearly labeled as "AI-Suggested"
- Doctor actions are visually dominant and final
- The UI clearly shows:
  "AI prepared this summary â†’ Doctor reviewed and decided"
- Add a visible "Doctor Override" or "Doctor Confirmed" state

Focus ONLY on hierarchy, labeling, and flow.
Do NOT redesign the entire dashboard yet.
```

---

## ğŸ§  PROMPT 5 â€” FIX ADMIN ROLE PASSIVENESS

```
Review the Admin Dashboard workflow.

Identify UI areas where the Admin is only observing
(analytics, charts, logs) without control.

Fix the workflow so that:
- Admin can influence system behavior from the UI
- Admin has visibility into AI vs Doctor disagreement
- Admin sees workflow anomalies, not just metrics
- Admin can manage doctors, specialties, and AI feature toggles

Do NOT add backend controls.
Only adjust UI workflow intent and role authority.
```

---

## ğŸ§  PROMPT 6 â€” FIX REAL-TIME PERCEPTION IN UI

```
Review how real-time features (chat, appointments, queues)
are represented in the UI.

Fix the workflow so that:
- Users clearly see when something is LIVE
- Waiting states, queues, and doctor availability are visible
- Appointment status updates feel real-time, not static
- Chat interfaces clearly show live presence

Do NOT implement WebSockets.
Only correct UI cues, states, and user feedback logic.
```

---

## ğŸ§  PROMPT 7 â€” FIX NAVIGATION OVER-EXPOSURE

```
Review role-based navigation menus.

Fix the UI workflow so that:
- AI-related navigation options appear progressively
- Certain menu items only appear after prerequisite steps
  (e.g., AI Chat after Symptom Checker)
- Navigation reinforces correct medical flow, not feature discovery

Do NOT change routes.
Only adjust navigation visibility logic.
```

---

## ğŸ§  PROMPT 8 â€” GLOBAL UI SAFETY RULE ENFORCEMENT

```
Review the entire frontend workflow for medical safety clarity.

Fix the UI logic so that:
- "Not a diagnosis" messaging is consistent
- Users are never misled into thinking AI replaces doctors
- Safety disclaimers do not interrupt flow but guide decisions
- All AI outputs are framed as assistive, not authoritative

Do NOT modify wording yet.
Only correct where and when such messages appear.
```

---

---

# ğŸ§© LAYER 2 â€” PATIENT UI WORKFLOW & FUNCTIONAL LOGIC PROMPTS

> **Goal of Layer 2:**
> Make the patient journey feel like a **guided medical process**, not feature hopping.

---

## ğŸ§  PROMPT 2.1 â€” PATIENT DASHBOARD ENTRY LOGIC

```
Review the Patient Dashboard workflow.

Fix the dashboard so that:
- The dashboard acts as a guided starting point, not a feature grid
- The primary CTA is "Start Health Check"
- Other AI features (AI Chat, Report Analyzer, Pill Identifier)
  are secondary and context-aware
- The dashboard visually communicates:
  "Start â†’ Analyze â†’ Decide â†’ Consult"

Do NOT change layout visuals yet.
Only update dashboard entry logic and feature priority.
```

---

## ğŸ§  PROMPT 2.2 â€” SYMPTOM CHECKER AS A GUIDED INTERVIEW

```
Review the Symptom Checker patient flow.

Fix the workflow so that:
- The symptom checker feels like a conversational medical interview
- The user answers one question at a time
- Each question shows:
  - Current step (e.g., Question 2 of 5)
  - A short explanation: "This helps assess risk"
- The number of questions adapts dynamically
  (minimum 3, maximum 5, extend to 7 only if uncertainty remains)
- The user cannot skip questions without confirmation

Focus only on interaction flow and user guidance.
Do NOT design UI components yet.
```

---

## ğŸ§  PROMPT 2.3 â€” CONTEXTUAL AI PROCESSING STATE

```
Fix how the UI represents "AI Processing".

Ensure that:
- There is a clear transition between user input and AI reasoning
- The UI shows a non-blocking "AI analyzing your responses" state
- The system explains that AI is evaluating risk, not diagnosing
- The user understands their input is being combined with trained data

Do NOT show technical details.
Only improve patient-facing clarity and trust.
```

---

## ğŸ§  PROMPT 2.4 â€” RESULTS SCREEN DECISION LOGIC

```
Review the Symptom Checker results screen.

Fix the workflow so that:
- Results are framed as "Possible conditions" not diagnoses
- Severity is the primary visual driver of next actions
- Recommendations are ranked and explained
- The UI clearly shows what the AI is confident about
  and what is uncertain

Ensure the user understands:
"These results guide the next step, not final answers."
```

---

## ğŸ§  PROMPT 2.5 â€” SEVERITY-DRIVEN UI LOCKING

```
Update the patient UI logic so that severity controls available actions.

Rules to enforce:
- Low severity:
  - AI Chat enabled
  - Return to dashboard allowed
- Medium severity:
  - AI Chat enabled
  - Strong suggestion to book appointment
- High severity:
  - Booking highlighted and emphasized
  - AI Chat limited to educational explanations
- Critical severity:
  - AI Chat disabled
  - Emergency guidance shown
  - Booking or emergency contact emphasized

Do NOT add emergency features.
Only correct UI action availability logic.
```

---

## ğŸ§  PROMPT 2.6 â€” CONTEXTUAL AI HEALTH CHAT ENTRY

```
Fix how the AI Health Chat is accessed in the patient UI.

Ensure that:
- AI Chat is launched only from a medical context
  (symptom result, report analysis, or consultation summary)
- AI Chat inherits the current context automatically
- The UI explains:
  "This chat is based on your recent health assessment"
- AI Chat is not available as a blank, free-entry tool

Focus on entry conditions and context preservation.
```

---

## ğŸ§  PROMPT 2.7 â€” MEDICAL REPORT ANALYZER UI FLOW

```
Review the Medical Report Analyzer patient flow.

Fix the workflow so that:
- The user understands what type of reports can be uploaded
- Upload progress and validation are clearly shown
- AI output highlights abnormal findings first
- The UI explains results in simple, non-alarming language
- Clear next steps are shown:
  - Discuss with doctor
  - Save report
  - Link to symptom checker

Do NOT generate medical conclusions.
Only improve interpretation flow and user safety.
```

---

## ğŸ§  PROMPT 2.8 â€” PILL IDENTIFICATION SAFETY FLOW

```
Review the Pill Identification feature.

Fix the UI logic so that:
- The feature is framed as identification, not advice
- The UI clearly states that results may be approximate
- Medication purpose categories are shown
- Dosage, timing, and treatment guidance are explicitly blocked
- The user is prompted to consult a doctor or pharmacist

Focus on safety framing and expectation management.
```

---

## ğŸ§  PROMPT 2.9 â€” APPOINTMENT BOOKING CONTEXT AWARENESS

```
Review the Appointment Booking UI entry points.

Fix the workflow so that:
- Booking can inherit context from symptom checker or report analysis
- The booking UI shows "Reason for consultation" automatically
- Severity level influences booking priority messaging
- The user understands why booking is recommended

Do NOT modify backend scheduling logic.
Only correct frontend context flow.
```

---

## ğŸ§  PROMPT 2.10 â€” PATIENT JOURNEY CONTINUITY

```
Audit the entire patient journey for continuity.

Fix the UI so that:
- The user always knows "where they are" in the health journey
- Past AI results, reports, and chats are accessible but contextual
- The dashboard reflects current health state and pending actions
- No action feels disconnected from previous steps

Ensure the patient never feels lost or overwhelmed.
```

---



---

# ğŸ©º LAYER 3 â€” DOCTOR UI WORKFLOW & FUNCTIONAL LOGIC PROMPTS

> **Core Goal:**
> The UI must clearly show
> **AI assists â†’ Doctor decides â†’ System records**

---

## ğŸ§  PROMPT 3.1 â€” DOCTOR DASHBOARD ROLE AUTHORITY

```
Review the Doctor Dashboard workflow.

Fix the UI logic so that:
- The Doctor Dashboard is decision-focused, not data-focused
- The primary action is reviewing patients, not browsing analytics
- All AI outputs are visually secondary to doctor actions
- The dashboard communicates:
  "You are the final authority in patient care"

Do NOT change visual styles yet.
Only adjust workflow priority and intent.
```

---

## ğŸ§  PROMPT 3.2 â€” PATIENT QUEUE & PRIORITIZATION LOGIC

```
Review how the patient queue is represented in the Doctor UI.

Fix the workflow so that:
- Patients are ordered by medical urgency, not arrival time
- Severity level is immediately visible
- AI-flagged urgent cases are highlighted
- The doctor understands why a patient is prioritized

Do NOT implement scheduling algorithms.
Only correct UI logic and presentation order.
```

---

## ğŸ§  PROMPT 3.3 â€” AI HANDOFF TRANSPARENCY

```
Review how AI-generated information is shown to doctors.

Fix the workflow so that:
- AI information is grouped as a "Pre-Consultation Summary"
- The UI clearly states:
  "Prepared by AI based on patient input"
- AI confidence and uncertainty are visible
- Doctors can see which symptoms influenced AI suggestions

Ensure the UI never implies AI made a diagnosis.
```

---

## ğŸ§  PROMPT 3.4 â€” DOCTOR OVERRIDE & CONFIRMATION STATES

```
Review how doctor decisions are recorded in the UI.

Fix the workflow so that:
- Doctors can explicitly confirm or override AI suggestions
- The UI visually distinguishes:
  - AI suggested
  - Doctor confirmed
  - Doctor overridden
- Doctors can add reasoning notes when overriding AI
- The system records doctor authority clearly

Focus on interaction states, not backend storage.
```

---

## ğŸ§  PROMPT 3.5 â€” CONSULTATION SESSION FLOW

```
Review the consultation interface workflow.

Fix the UI logic so that:
- The consultation has a clear beginning, middle, and end
- The doctor sees:
  - Patient history
  - Current complaint
  - AI summary
  - Uploaded reports
- Actions during consultation are structured:
  - Add notes
  - Prescribe
  - Order tests
  - Recommend follow-up

Ensure the UI supports focused clinical decision-making.
```

---

## ğŸ§  PROMPT 3.6 â€” REAL-TIME AWARENESS FOR DOCTORS

```
Review how real-time information is conveyed to doctors.

Fix the workflow so that:
- Doctors can clearly see which patients are waiting
- Live consultation status is visible
- Incoming urgent cases interrupt gently but clearly
- Chat and video states indicate live presence

Do NOT implement WebSockets.
Only fix UI cues and state awareness.
```

---

## ğŸ§  PROMPT 3.7 â€” REPORT & AI INSIGHT REVIEW FLOW

```
Review how medical reports and AI analyses are shown to doctors.

Fix the workflow so that:
- Reports and AI insights are clearly separated
- Abnormal findings are emphasized first
- AI explanations assist but do not conclude
- Doctors can quickly assess relevance and act

Focus on review efficiency and safety.
```

---

## ğŸ§  PROMPT 3.8 â€” POST-CONSULTATION UI STATE

```
Review what happens in the UI after a consultation ends.

Fix the workflow so that:
- The doctor explicitly marks consultation as completed
- Follow-up actions are clearly selectable
- Patient status updates are visible
- The next patient in queue is clearly presented

Ensure closure and continuity in the doctor workflow.
```

---

## ğŸ§  PROMPT 3.9 â€” DOCTOR UI SAFETY & LIABILITY SIGNALING

```
Audit the Doctor UI for safety and liability clarity.

Fix the UI so that:
- It is always clear when information is AI-assisted
- Doctors are reminded of final responsibility subtly
- AI limitations are visible without being disruptive
- The UI avoids over-reliance on automated suggestions

Focus on professional accountability through UI logic.
```

---

## ğŸ§  PROMPT 3.10 â€” DOCTOR ROLE BOUNDARIES

```
Review role-based access within the Doctor UI.

Fix the workflow so that:
- Doctors cannot access admin-only controls
- Doctors cannot modify AI system behavior
- Doctors focus only on patient care and decisions
- UI reinforces clear role separation

Do NOT change permissions backend.
Only correct frontend role boundaries.
```



---

# ğŸ›¡ï¸ LAYER 4 â€” ADMIN UI WORKFLOW & FUNCTIONAL LOGIC PROMPTS

> **Goal:** Make the Admin UI the authoritative, action-ready control plane for governance, safety, and operations. Admin must be able to *see*, *act*, *intervene*, and *audit* without performing low-level technical tasks.

---

## ğŸ§  PROMPT 4.1 â€” ADMIN DASHBOARD PRIMARY INTENT

```
Audit the Admin Dashboard workflow and correct its intent.

Fix the workflow so that:
- The landing view communicates admin's purpose: governance, monitoring, and action.
- Primary widgets are: Live System Health, Urgent Cases, Doctor Overrides, and Key Alerts.
- The dashboard shows actionable items first (alerts & anomalies), then passive analytics.
- Each alert card provides a clear next action (View, Assign, Acknowledge).

Do NOT change visualsâ€”only update the widget priority and actionable flow logic.
```

---

## ğŸ§  PROMPT 4.2 â€” ANOMALY DETECTION WORKFLOW

```
Review the Admin anomaly detection workflow.

Fix it so that:
- Anomalies are surfaced as discrete cards with severity (info/warn/critical).
- Each anomaly includes: evidence summary, affected sessions count, time window, and sample session links.
- Admin can triage an anomaly with three workflow actions: (Investigate â†’ Assign Investigator â†’ Acknowledge/Resolve).
- Actioning an anomaly opens a focused â€œinvestigation paneâ€ showing related logs and quick actions (contact doctor, disable model, notify compliance).

Focus only on UI flow and decision points, not detection algorithms.
```

---

## ğŸ§  PROMPT 4.3 â€” AI FEATURE TOGGLING & SAFETY PARAMETERS

```
Inspect Admin controls for AI feature toggles and safety parameters.

Fix the workflow so that:
- Toggles (Symptom Checker, Report Analyzer, Pill ID, AI Chat) are clearly visible with ON/OFF states and last-change audit trail.
- Each toggle includes a "Why toggle?" tooltip and a confirmation flow that requires a short justification (text) before applying change.
- Safety parameters (entropy thresholds, emergency thresholds, min/max questions) are editable via modal; changes must be saved with a versioned note.
- The UI shows the current active configuration version and allows rollback to a previous version.

Do NOT implement backend storage; only define the admin-side controls & confirmation flows.
```

---

## ğŸ§  PROMPT 4.4 â€” DOCTOR APPROVAL & ASSIGNMENT WORKFLOW

```
Review Admin user/doctor management workflow.

Fix it so that:
- New doctor onboarding appears in a pending queue with required docs and verification status.
- Admin can Approve / Reject / Request more info with one-click actions; each action opens a small modal to capture the reason and stores it in the audit trail.
- Admin can assign doctors to specialties or clinics via drag-drop or multi-select workflows.
- When assigning a doctor to a specialty or patient pool, the UI shows projected load (estimated queue impact) before confirming.

Focus on approval and assignment flows only.
```

---

## ğŸ§  PROMPT 4.5 â€” APPOINTMENT QUEUE OVERRIDE & REASSIGNMENT

```
Examine Admin controls over appointment queue workflows.

Fix workflow so that:
- Admin can view the live priority queue and filter by specialty, severity, or doctor.
- Admin can reassign queued tokens between doctor pools with a confirm flow that shows ETA changes.
- Admin can mark a token as â€˜escalatedâ€™ or â€˜audit reviewâ€™ which pauses assignment and notifies relevant parties.
- All reassignments require a short comment captured to the audit log.

Only update UI workflows and confirmation/approval steps.
```

---

## ğŸ§  PROMPT 4.6 â€” AUDIT LOG NAVIGATION & EVIDENCE WORKFLOW

```
Inspect the Admin audit/logs UI flow.

Fix it so that:
- Logs are searchable and filterable (by user, sessionId, doctorId, action type, date range).
- Clicking a log entry opens a contextual "evidence panel" with related AI-output hashes, session snapshot, and links to the patient/triage session.
- Admin can â€œflagâ€ a log entry for compliance and create a ticket from the UI (ticket links to log entries).
- UI indicates which logs contain PHI and requires a second confirmation step to view sensitive data.

Do NOT change data storageâ€”only improve UI navigation and evidence workflows.
```

---

## ğŸ§  PROMPT 4.7 â€” API KEY & QUOTA MANAGEMENT UI

```
Review the Admin workflow for API key and quota management.

Fix so that:
- API keys (Gemini, OpenRouter) are listed with usage stats and last-used timestamps.
- Admin can rotate keys via a UI flow that requires confirmation and optional staged swap (new key staged but not activated until verification).
- Quota thresholds can be set with alert actions (email/SMS) and emergency fallback strategy selection (e.g., fall back to local summary, or degrade AI Chat to "read-only").
- Key changes and quota adjustments are versioned and create an audit entry.

Only update frontend controls and confirmation flows.
```

---

## ğŸ§  PROMPT 4.8 â€” EMERGENCY ESCALATION & RESPONSE WORKFLOW

```
Review Admin emergency workflow (spikes or critical events).

Fix the UI flow so that:
- Admin receives a high-visibility emergency banner for critical spikes (e.g., surge in red-flag sessions).
- Emergency actions are a set of buttons: â€œPause AI Moduleâ€, â€œNotify On-Call Doctorâ€, â€œOpen Incident Panelâ€.
- The Incident Panel guides admin through required steps (record incident, assign incident lead, send templated notifications).
- The workflow enforces a mandatory incident note, time-stamped and attached to affected sessions.

Focus on UI steps and required confirmations, not incident processing.
```

---

## ğŸ§  PROMPT 4.9 â€” ANALYTICS DRILLDOWN WORKFLOW

```
Review Admin analytics + drilldown UX.

Fix the workflow so that:
- Charts are interactive and each datapoint can be drilled into (e.g., clicking on "High Override Rate" opens the list of affected sessions).
- Each drilldown item includes quick actions (Contact Doctor, Mark for Review, Export).
- Admin can save custom dashboards (filters + charts) and share them with other admins (read-only or edit).
- The workflow includes a simple 'export evidence' flow that packages relevant sessions and logs into a downloadable report.

Only refine analytics UX and data-to-action flow.
```

---

## ğŸ§  PROMPT 4.10 â€” NOTIFICATIONS, ALERTS & ACKNOWLEDGEMENT WORKFLOW

```
Review Admin notification and alert handling.

Fix the workflow so that:
- Alerts are triaged into a dedicated 'Alerts' center with filters and ownership assignment.
- Admins must acknowledge alerts; unacknowledged critical alerts escalate automatically after configured timeout.
- Each alert supports threaded comments and attachments (e.g., screenshots or session links).
- Alert acknowledgements should require a short note, and the state transitions are recorded in the audit log.

Only adjust UI interaction and escalation flows.
```

---

## ğŸ§  PROMPT 4.11 â€” BILLING & REVENUE ACTIONS WORKFLOW (OPTIONAL)

```
If your admin panel includes revenue, review billing workflow.

Fix so that:
- Revenue dashboards include per-doctor/clinic billing summaries with quick action to export invoices.
- Admin can issue refunds or adjust billing with a two-step confirmation and a mandatory reason for audit.
- UI shows pending payments, failed transactions, and reconciliation items and allows bulk actions.

If billing not relevant, skip this step.
```

---

## ğŸ§  PROMPT 4.12 â€” ADMIN SAFETY & ROLE PROTECTION WORKFLOW

```
Review admin account safety flows.

Fix so that:
- Admin-level actions (toggle AI, rotate keys, pause services) require a second confirmation and an optional two-person approval workflow (if enabled).
- Provide "dry-run" previews for impactful changes (e.g., show which sessions will be affected).
- Admins can set a 'safety lock' period during which changes require two approvals.
- The UI clearly shows which admin performed each action and when (audit visible).

Only refine UI confirmations and safeguard workflows.
```

---
PART 1 â€” FINAL FIGMA / LOVABLE REGENERATION PROMPT
(STRICT ROLE ISOLATION, ZERO MERGE)

Design an AI-powered Telemedicine Clinical Decision Support System (CDSS)
with STRICT ROLE ISOLATION.

This is a workflow-first UI design task.
Do NOT merge roles.
Do NOT reuse pages or dashboards.
Each role must feel like a separate application.

--------------------------------------------------
GLOBAL RULES (NON-NEGOTIABLE)
--------------------------------------------------
- Patient, Doctor, and Admin have completely separate page sets
- No shared dashboards
- No shared navigation
- No conditional role switching
- No cross-role UI elements
- AI behaves differently per role
- AI never replaces a human
- Doctors are final medical authority
- Admin governs the system

--------------------------------------------------
AUTHENTICATION FLOW
--------------------------------------------------
Landing Page
 â†’ Login / Register
 â†’ Role Detection (Patient / Doctor / Admin)
 â†’ Redirect to role-specific application root

Once redirected, the user MUST NOT see other role pages.

--------------------------------------------------
PATIENT APPLICATION (PATIENT-ONLY UI)
--------------------------------------------------

Pages:
- Patient Dashboard
- Symptom Checker
- AI Health Chat
- Medical Report Analyzer
- Pill Identifier
- Appointment Booking
- Profile

Patient Dashboard:
- Primary CTA: "Start Health Check"
- Secondary actions shown only after context exists
- Dashboard communicates a guided flow:
  Start â†’ Analyze â†’ Decide â†’ Consult

Symptom Checker:
- Conversational interview (not form)
- One question at a time
- Minimum 3 questions, maximum 5, extend to 7 if uncertainty remains
- Each question shows "Why this is asked"
- Progress indicator shown
- User cannot skip questions without confirmation

AI Processing State:
- Shows "AI analyzing your responses"
- Explains AI assesses risk, not diagnosis

Results:
- Clearly labeled "Possible Conditions"
- Severity badge (Low / Medium / High / Critical)
- Explainability panel shows symptom contribution
- Confidence and uncertainty visually separated

Severity-driven UI:
- Low: AI Chat enabled, booking optional
- Medium: AI Chat enabled, booking recommended
- High: Booking emphasized, AI Chat educational only
- Critical: AI Chat disabled, emergency guidance shown

AI Health Chat (Patient):
- Not accessible as a standalone tool
- Opens only from symptom results or report analysis
- Inherits medical context automatically
- Provides education only
- Never gives diagnosis or prescriptions

Medical Report Analyzer:
- Upload PDF/Image
- Abnormal findings highlighted first
- Simple explanations
- Clear next steps (doctor consultation)

Pill Identifier:
- Identification only
- Approximation disclaimer
- No dosage or treatment advice
- Prompts user to consult doctor or pharmacist

Appointment Booking:
- Context-aware booking
- Reason for consultation auto-filled
- Severity influences priority messaging

--------------------------------------------------
DOCTOR APPLICATION (DOCTOR-ONLY UI)
--------------------------------------------------

Pages:
- Doctor Dashboard
- Patient Queue
- Case Review / Consultation
- Schedule
- Profile

Doctor Dashboard:
- Decision-focused
- No admin controls
- No patient self-service features

Patient Queue:
- Ordered by medical severity
- Urgent cases highlighted
- Reason for prioritization visible

Case Review:
- Clear separation:
  - Patient input
  - AI-prepared pre-consultation summary
  - Doctor actions
- AI labeled clearly as "AI-Assisted Summary"
- AI uncertainty visible

Doctor Actions:
- Confirm AI suggestion
- Override AI suggestion
- Override requires optional reasoning note
- Doctor decision is final and dominant

Post Consultation:
- Mark consultation complete
- Set follow-up actions
- Move to next patient in queue

--------------------------------------------------
ADMIN APPLICATION (ADMIN-ONLY UI)
--------------------------------------------------

Pages:
- Admin Dashboard
- User & Doctor Management
- Anomaly & Alert Center
- Analytics
- System Settings
- Audit Logs

Admin Dashboard:
- Actionable alerts first
- System health overview
- Emergency banners when needed

Admin Capabilities:
- Approve / suspend doctors
- Assign doctors to specialties
- Monitor AI vs Doctor disagreement
- View anomaly evidence

AI Governance:
- Toggle AI features with confirmation
- Edit safety parameters
- Configuration versioning & rollback

Audit & Logs:
- Searchable, filterable logs
- Evidence panels
- PHI access confirmation

Emergency Controls:
- Pause AI modules
- Incident panel with mandatory notes

--------------------------------------------------
REAL-TIME UI CUES
--------------------------------------------------
- Live indicators for chat, queues, consultations
- Waiting states clearly visible
- Doctor availability shown
- Appointment status updates feel live

--------------------------------------------------
NAVIGATION RULES
--------------------------------------------------
- Separate navigation per role
- No reused menus
- No conditional hiding
- Navigation reinforces correct workflow per role

--------------------------------------------------
SAFETY & TRUST
--------------------------------------------------
- Consistent "AI-assisted, not a diagnosis" messaging
- No UI implies AI replaces doctors
- Clear responsibility boundaries


----------------------------------------

---


---

## ğŸ§  GOLDEN RULE (LOCK THIS IN)

> **Role â‰  State**
> **Role = Identity**

So the UI must follow:

* Patient UI â‰  Doctor UI â‰  Admin UI
* Even if they show related data, they must be **different pages**

---

# ğŸ”’ FINAL ROLE SEPARATION MODEL (UI-LEVEL)

### ğŸ”¹ Patient

* Only patient pages
* Never sees doctor/admin concepts
* AI is a guide

### ğŸ”¹ Doctor

* Only doctor pages
* Never sees admin controls
* AI is a preparation tool

### ğŸ”¹ Admin

* Only admin pages
* Never sees patient interaction UI
* AI is a system component

---

# ğŸ§© WHAT NEEDS TO BE FIXED IN YOUR CURRENT FIGMA OUTPUT

### âŒ Current Risk Areas

These are the places where **role leakage usually happens**:

1. Dashboards that change based on role
2. Shared â€œChatâ€ pages
3. Shared â€œAnalyticsâ€ or â€œReportsâ€
4. Contextual buttons that appear across roles
5. Global navigation that conditionally hides items

We will **eliminate all of that**.

---

# ğŸ§  COPY-PASTABLE AI PROMPTS

## (ROLE ISOLATION FIX â€” FRONTEND ONLY)

Use these **AFTER** the merged prompt to **correct role isolation**.

---

## ğŸ” PROMPT R1 â€” HARD ROLE PAGE ISOLATION

```
Review the entire UI workflow and enforce strict role isolation.

Fix the UI so that:
- Patient, Doctor, and Admin each have completely separate page sets
- No shared dashboards exist
- Pages are not reused or conditionally modified across roles
- Each role has its own navigation, layout, and mental model

Ensure:
- Role-specific pages are unique and independent
- Role switching is not possible from the UI
- Users never see UI elements belonging to another role

This is a strict separation requirement.
```

---

## ğŸ” PROMPT R2 â€” ROLE-SPECIFIC NAVIGATION LOCK

```
Audit navigation across all roles.

Fix navigation so that:
- Each role has its own dedicated navbar and sidebar
- Navigation items are not conditionally hidden or shown
- Patient navigation never includes doctor or admin items
- Doctor navigation never includes patient or admin items
- Admin navigation never includes patient or doctor items

Navigation should feel like three different applications.
```

---

## ğŸ” PROMPT R3 â€” NO SHARED AI INTERFACES

```
Review all AI-related UI components.

Fix the workflow so that:
- Patient AI Chat, Doctor AI Summary, and Admin AI Metrics
  are implemented as separate pages/components
- No AI screen is reused across roles
- AI outputs are presented differently per role:
  - Patient: guidance and explanations
  - Doctor: preparation and analysis
  - Admin: metrics and oversight

Ensure AI interfaces do not overlap across roles.
```

---

## ğŸ” PROMPT R4 â€” ROLE-SPECIFIC CONTEXT OWNERSHIP

```
Review how medical context is handled in the UI.

Fix the workflow so that:
- Patient context exists only in patient pages
- Doctor context exists only in doctor pages
- Admin context exists only in admin pages
- Context is never shared visually or interactively across roles

Each role should perceive the system from its own perspective only.
```

---

## ğŸ” PROMPT R5 â€” DASHBOARD DECOUPLING

```
Audit all dashboard pages.

Fix the UI so that:
- Patient Dashboard is designed only for patient tasks
- Doctor Dashboard is designed only for clinical decision-making
- Admin Dashboard is designed only for governance and monitoring
- Dashboards do not reuse layout or components across roles

Each dashboard must feel purpose-built for its role.
```

---

## ğŸ” PROMPT R6 â€” ROLE-BOUNDARY ENFORCEMENT IN UI

```
Review all UI interactions and actions.

Fix the workflow so that:
- Actions available to one role cannot appear in another roleâ€™s UI
- Buttons, CTAs, and flows are role-exclusive
- No UI element implies cross-role authority or access

UI must clearly communicate role boundaries at all times.
```

---

# ğŸ§­ CORRECT FINAL PAGE STRUCTURE (FRONTEND)

### ğŸ§‘â€âš•ï¸ Patient Pages

```
/patient/dashboard
/patient/symptom-check
/patient/ai-chat
/patient/reports
/patient/book-appointment
/patient/profile
```

### ğŸ‘¨â€âš•ï¸ Doctor Pages

```
/doctor/dashboard
/doctor/queue
/doctor/case/:id
/doctor/schedule
/doctor/profile
```

### ğŸ› ï¸ Admin Pages

```
/admin/dashboard
/admin/users
/admin/anomalies
/admin/analytics
/admin/settings
```

No overlap.
No reuse.
No conditionals.

---

